@using System.Globalization
@using Classified.Component.Html
@using Classified.Web.UserServices
@model Classified.Domain.ViewModels.Advertisment.ClassifiedAdvertisementViewModelClient
@{
    ViewBag.Title = @Model.Title;

    Layout = "~/Views/Shared/_LayoutClient12.cshtml";
}
@if (Model.BreadcrumbList.Any())
{
        @Html.Breadcrumb(Model.BreadcrumbList).CssCLass("page-breadcrumb")

}
<section class="section bg-gray" style="margin-top: 0px">
    <!-- Container Start -->
    <div class="container">
        <div class="row">
            <!-- Left sidebar -->
            
            <div class="col-md-8">
                <div class="product-details">
                    <h1 class="product-title">@Model.Title</h1>
                    <div class="product-meta">
                        <ul class="list-inline">
                            @if (Model.IsEmailBase)
                            {
                                <li class="list-inline-item"><i class="fa fa-user-o"></i> By <a href="mailto:@Model.EmailAddress">@Model.EmailAddress</a></li>
                            }
                            else
                            {
                                <li class="list-inline-item"><i class="fa fa-user-o"></i> By <a href="">Andrew</a></li>
                            }
                            <li class="list-inline-item"><i class="fa fa-folder-open-o"></i> Category<a target="_blank" href="@Url.RouteUrl("CategoryHome",new {id=Model.ClassifiedCategoryId})">@Model.ClassifiedCategory.Name</a></li>
                            @*<li class="list-inline-item"><i class="fa fa-location-arrow"></i> Location<a href="">Dhaka Bangladesh</a></li>*@
                        </ul>
                    </div>
                    <div id="carouselExampleIndicators" class="product-slider carousel slide" data-ride="carousel">
                        <ol class="carousel-indicators">
                            @for (int i = 0; i < Model.ClassifiedImageses.Count; i++)
                            {
                                if (i == 0)
                                {
                                    <li data-target="#carouselImageIndicators" data-slide-to="@i" class="active"></li>
                                }
                                else
                                {
                                    <li data-target="#carouselImageIndicators" data-slide-to="@i"></li>
                                }
                            }
                        </ol>
                        <div class="carousel-inner">
                            @if (Model.ClassifiedImageses.Any())
                            {
                                for (int i = 0; i < Model.ClassifiedImageses.Count; i++)
                                {
                                    if (i == 0)
                                    {
                                        <div class="carousel-item active">
                                            <img class="d-block w-100" src="/Images/Watermarked/@Model.ClassifiedImageses[i].ImageName/" alt="@Model.ClassifiedImageses[i].ImageGuid" style="width: 50%; margin: 0 auto;" />
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="carousel-item">
                                            <img class="d-block w-100" src="/Images/Watermarked/@Model.ClassifiedImageses[i].ImageName/" alt="@Model.ClassifiedImageses[i].ImageGuid" style="width: 50%; margin: 0 auto;" />
                                        </div>
                                    }
                                }
                            }
                        </div>
                        <a class="carousel-control-prev" href="#carouselImageIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next" href="#carouselImageIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <div class="content">
                        <ul class="nav nav-pills  justify-content-center" id="pills-tab" role="tablist">
                            <li class="nav-item">
                                <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-Ads-Basic" role="tab" aria-controls="pills-home" aria-selected="true">Basic Information</a>
                            </li>
                            @if (!string.IsNullOrEmpty(Model.Description))
                            {
                                <li class="nav-item">
                                    <a class="nav-link" id="pills-description-tab" data-toggle="pill" href="#pills-Ads-detailes" role="tab" aria-controls="pills-home" aria-selected="true">More Details</a>
                                </li>
                            }
                            @if (Model.Attributes.Any())
                            {
                                <li class="nav-item">
                                    <a class="nav-link" id="pills-Details-tab" data-toggle="pill" href="#pills-specifications" role="tab" aria-controls="pills-profile" aria-selected="false">Specifications</a>
                                </li>
                            }
                        </ul>
                        <div class="tab-content" id="pills-tabContent">
                            <div class="tab-pane fade show active" id="pills-Ads-Basic" role="tabpanel" aria-labelledby="pills-home-tab">
                                <h3 class="tab-title">@Model.Title</h3>
                                <p>@Model.ShortDescription</p>
                                <hr />
                                <table class="table table-bordered product-table">
                                    <tbody>
                                        <tr>
                                            <td>@Html.LabelFor(m => m.PhoneNumber)</td>
                                            <td><address><abbr><a href="tel:@Model.PhoneNumber">@Model.PhoneNumber</a></abbr></address></td>
                                        </tr>
                                        <tr>
                                            <td>@Html.LabelFor(m => m.EmailAddress)</td>
                                            <td><address><strong><a href="mailto:@Model.EmailAddress">@Model.EmailAddress</a></strong></address></td>
                                        </tr>
                                        <tr>
                                            <td>@Html.LabelFor(m => m.Address)</td>
                                            <td><address>@Model.Address</address></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            @if (!string.IsNullOrEmpty(Model.Description))
                            {
                                <div class="tab-pane fade show" id="pills-Ads-detailes" role="tabpanel" aria-labelledby="pills-home-tab">
                                    <h3 class="tab-title">More Details</h3>

                                    @Html.Raw(Model.Description)

                                </div>
                            }
                            @if (Model.Attributes.Any())
                            {
                                <div class="tab-pane fade" id="pills-specifications" role="tabpanel" aria-labelledby="pills-profile-tab">
                                    <h3 class="tab-title">Specifications</h3>
                                    <table class="table table-bordered product-table">
                                        <tbody>
                                            @foreach (var item in Model.Attributes)
                                            {
                                                <tr>
                                                    <td>@item.AttributeLabel</td>
                                                    <td>@item.AttributeValue</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            }


                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="sidebar">
                    <div class="widget price text-center">
                        <h4>Price</h4>
                        @if (Model.Price > 0)
                        {
                            <p>@Html.Raw($"{Model.Price:N0}")</p>
                        }
                        else
                        {
                            <p>No Price</p>
                        }
                    </div>
                    @if (!Model.IsEmailBase)
                    {
                        <!-- User Profile widget -->
                        <div class="widget user">
                            <img class="rounded-circle" src="images/user/user-thumb.jpg" alt="">
                            <h4><a href="">Jonathon Andrew</a></h4>
                            <p class="member-time">Member Since Jun 27, 2017</p>
                            <a href="">See all ads</a>
                            <ul class="list-inline mt-20">
                                <li class="list-inline-item"><a href="" class="btn btn-contact">Contact</a></li>
                                <li class="list-inline-item"><a href="" class="btn btn-offer">Make an offer</a></li>
                            </ul>
                        </div>
                    }
                    @*<!-- Map Widget -->
                        <div class="widget map">
                            <div class="map">
                                <div id="map"></div>
                            </div>
                        </div>
                        <!-- Rate Widget -->
                        <div class="widget rate">
                            <!-- Heading -->
                            <h5 class="widget-header text-center">
                                What would you rate
                                <br>
                                this product
                            </h5>
                            <!-- Rate -->
                            <div class="starrr"></div>
                        </div>*@
                    <!-- Safety tips widget -->
                    <div class="widget disclaimer">
                        <h5 class="widget-header">Safety Tips</h5>
                        <ul>
                            <li>Meet seller at a public place</li>
                            <li>Check the item before you buy</li>
                            <li>Pay only after collecting the item</li>
                        </ul>
                    </div>
                    <!-- Coupon Widget -->
                    <div class="widget coupon text-center">
                        <!-- Coupon description -->
                        <p>
                            Have a great product or service to post ? Share it with
                            our users.
                        </p>
                        <!-- submit button -->
                        @Html.ActionLink("Submit Your Advertisement", "SubmitAdsByEmail", "Advertisements", new { @class = "btn btn-transparent-white" })
                    </div>

                </div>
            </div>
        </div>
    </div>
</section>
@section AdditionalMeta
{
    <!-- Place this data between the <head> tags of your website -->
    @if (!string.IsNullOrEmpty(Model.MetaDescription))
    {
        <meta name="description" content="@Model.MetaDescription" />
    }
    @if (!string.IsNullOrEmpty(Model.MetaKeyWord))
    {
        <meta name="keywords" content="@Model.MetaKeyWord" />
    }
    <!-- Schema.org markup for Google+ -->
    @if (!string.IsNullOrEmpty(Model.MetaTitle))
    {
        <meta itemprop="name" content="@Model.MetaTitle">
    }
    @if (!string.IsNullOrEmpty(Model.MetaDescription))
    {
        <meta itemprop="description" content="@Model.MetaDescription">
    }
    @if (Model.ClassifiedImageses.Any())
    {
        <meta itemprop="image" content="/Images/Watermarked/@Model.ClassifiedImageses[0].ImageName/">
    }

    <!-- Twitter Card data -->
    <meta name="twitter:card" content="product">
    <!-- <meta name="twitter:site" content="publisher_handle"> -->
    @if (!string.IsNullOrEmpty(Model.MetaTitle))
    {
        <meta name="twitter:title" content="@Model.MetaTitle">
    }
    @if (!string.IsNullOrEmpty(Model.MetaDescription))
    {
        <meta name="twitter:description" content="@Model.MetaDescription">
    }
    @if (Model.ClassifiedImageses.Any())
    {
        <meta name="twitter:image:src" content="/Images/Watermarked/@Model.ClassifiedImageses[0].ImageName/">
    }
    <meta name="twitter:data1" content="@Model.PhoneNumber">
    <meta name="twitter:label1" content="PhoneNumber">
    <meta name="twitter:data2" content="@Model.EmailAddress">
    <meta name="twitter:label2" content="EmailAddress">

    @if (Model.Price > 0)
    {
        <meta name="twitter:data3" content="@Html.Raw($"{Model.Price:N0} MYR")">
        <meta name="twitter:label3" content="Price">
    }

    <!-- Twitter summary card with large image must be at least 280x150px -->
    <!-- Open Graph data -->
    @if (!string.IsNullOrEmpty(Model.MetaTitle))
    {
        <meta property="og:title" content="@Model.MetaTitle" />
    }
    <meta property="og:type" content="article" />

    <meta property="og:url" content="@AppSettings.SiteAddress" />
    @if (Model.ClassifiedImageses.Any())
    {
        <meta property="og:image" content="/Images/Watermarked/@Model.ClassifiedImageses[0].ImageName/" />
    }
    @if (!string.IsNullOrEmpty(Model.MetaDescription))
    {
        <meta property="og:description" content="@Model.MetaDescription" />
    }

    <meta property="og:site_name" content="@AppSettings.SiteName" />

    @if (Model.ApprovedDate.HasValue)
    {
        <meta property="article:published_time" content="@Model.ApprovedDate.Value.ToString("yyyy-MM-dd'T'HH:mm:sszzz", DateTimeFormatInfo.InvariantInfo);" />
    }

    <meta property="article:modified_time" content="@Model.SubmitDate.ToString("yyyy-MM-dd'T'HH:mm:sszzz", DateTimeFormatInfo.InvariantInfo);" />

    @if (!string.IsNullOrEmpty(Model.MetaKeyWord))
    {
        <meta property="article:tag" content="@Model.MetaKeyWord" />
    }
    @if (Model.Price > 0)
    {
        <meta property="og:price:amount" content="@Html.Raw($"{Model.Price:N0}")" />
        <meta property="og:price:currency" content="MYR" />
    }

    @*<meta property="fb:admins" content="Facebook numberic ID" />*@

    @if (Model.IsPreview && !Model.IsApproved)
    {
        <meta name="robots" content="noindex">
        <meta name="googlebot" content="noindex">
    }
}
